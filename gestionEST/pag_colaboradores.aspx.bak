<%@ Page Title="" Language="vb" AutoEventWireup="false" MasterPageFile="~/pag_maestra.Master" CodeBehind="pag_colaboradores.aspx.vb" Inherits="gestionEST.pag_colaboradores" %>

<%@ Register Assembly="DevExpress.Web.v18.1, Version=18.1.3.0, Culture=neutral, PublicKeyToken=b88d1754d700e49a" Namespace="DevExpress.Web" TagPrefix="dx" %>
<asp:Content ID="Content1" ContentPlaceHolderID="head" runat="server">
</asp:Content>
<asp:Content ID="Content2" ContentPlaceHolderID="Barra_Azul" runat="server">
    <%--Barra AZUL--%>

    <script type="text/javascript">

        //CALL BACK 
        var postponedCallbackRequired = false;

        function OnGridFocusedRowChanged() {

            //ENCUENTRO AL ELEMENTO DENTRO DEL SPLITTER
            //div
            
            if(CallbackPanel.InCallback())
                postponedCallbackRequired = true;
            else
                CallbackPanel.PerformCallback();
                //PASAR VALORES AL POPUP
                var grid = (<%= SpliterPadre.GetPaneByName("splitterSuperior").Controls.Item(5).ID%>);
            grid.GetRowValues(grid.GetFocusedRowIndex(), 'rut;nombre', OnGetRowValues);
            
        }
        // EL ARREGLO "values" CONTIENE LOS DATOS DE RUT Y NOMBRE
        function OnGetRowValues(values) {
            txtIdEmpleado.SetText(values[0]);
            txtEmpleado.SetText(values[1]);
        }

        function OnListBoxIndexChanged(s, e) {
            if(CallbackPanel.InCallback())
                postponedCallbackRequired = true;
            else
                CallbackPanel.PerformCallback();
        }
        function OnEndCallback(s, e) {
            if(postponedCallbackRequired) {
                CallbackPanel.PerformCallback();
                postponedCallbackRequired = false;
                
            }
        }

        //OBTENER LOS VALORES DEL CBXTIPODCTO
        function valorTIpoDcto(s, e) {
            cbxDescripcion.ClearItems();
            var index = txtTipoDocto.GetSelectedIndex().toString();
            if (index == 1) {
                cbxDescripcion.AddItem("CHARLA MASSO");
                cbxDescripcion.AddItem("PROCEDIMIENTOS ESPECÍFICOS");
                cbxDescripcion.AddItem("FICHA SALUD Y SEGURIDAD");
                cbxDescripcion.SetText("CHARLA MASSO");
            }

            if (index == 4) {
                cbxDescripcion.AddItem("OBLIGACIÓN DE INFORMAR");
                cbxDescripcion.AddItem("DERECHO A SABER");
                cbxDescripcion.SetText("DERECHO A SABER");
            }

            if (index == 0 || index == 2 || index == 3 || index == 5 || index == 6 || index == 7 || index == 8 || index == 9 || index == 10 || index == 11) {
                cbxDescripcion.ClearItems();
                cbxDescripcion.SetText(txtTipoDocto.GetText());
            }

            var tr_vencimiento = <%= tr_vencimiento.ClientID%>;
            if (index == 1 || index == 2 || index == 7 || index == 8 || index == 10) {
                tr_vencimiento.style.visibility = 'visible';
                //lblVenveDcto.SetVisible(true);
                
            } else {
                tr_vencimiento.style.visibility = 'hidden';
                //txtVenceDocto.SetVisible(false);
                //lblVenveDcto.SetVisible(false);
            }
        }

        

        function OnClickConsultaEmpresa(s, e) {
            if (ASPxClientEdit.ValidateGroup('entryGroup')) {
                e.processOnServer = true;
            }
            else {
                e.processOnServer = false;
            }
        }

        function Mensaje(s, e) {
            var result = confirm('¡¿Seguro que desea borrar el Archivo Seleccionado?!');
            //console.log("CONFIRM: " + result);
            e.processOnServer = result;
        }

        function LimpiarPopUp(s, e) {
            lpCallBack.Show();
            cbpEditar.PerformCallback();
        }

        function AbrirPopUpDescarga(s, e) {
            lpCallBack.Show();
            cbpDescargarArchivos.PerformCallback();
        }

        function CambiarUnidadesPagina() {
            cbpPanelIzquierdo.PerformCallback();
        }

    </script>

    <dx:ASPxCallbackPanel runat="server" ID="cbpPanelIzquierdo" ClientInstanceName="cbpPanelIzquierdo" OnCallback="cbpPanelIzquierdo_Callback">
        <PanelCollection>
            <dx:PanelContent>
                <table style="width: 100%;">
                    <tr>
                        <td>
                            <label class="text-white font-weight-bold" style="font-family: Verdana; padding-bottom: 10px">
                                Buscar Por
                            </label>
                        </td>
                    </tr>
                    <tr>
                        <td class="d-flex">
                            <div style="width: 20%;">
                                <label class="text-white font-weight-bold" runat="server" id="lblEmpresa">
                                    Empresa 
                                </label>
                            </div>
                            <div class="d-flex justify-content-end">
                                <dx:ASPxComboBox ForeColor="#00489e" Width="77%" CssClass="rounded" ID="cbxEmpresaPagina" runat="server" ValueType="System.String" ClientInstanceName="cbxEmpresaPagina" Theme="MetropolisBlue">
                                    <ClientSideEvents SelectedIndexChanged="CambiarUnidadesPagina" />
                                    <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                </dx:ASPxComboBox>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td class="d-flex">
                            <div style="width: 25%;">
                                <label class="text-white font-weight-bold" style="font-family: Verdana;">
                                    Unidad 
                                </label>
                            </div>
                            <div class="d-flex justify-content-end">
                                <dx:ASPxComboBox ForeColor="#00489e" AllowNull="true" Width="83%" CssClass="rounded" ID="cbxUnidad" runat="server" ValueType="System.String" ClientInstanceName="" Theme="MetropolisBlue" OnLoad="cbxUnidad_Load">
                                    <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                </dx:ASPxComboBox>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td class="d-flex justify-content-end" style="padding: 5px 7px 5px 7px; margin-right: -7px">
                            <dx:ASPxButton ID="btnConsultar" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="background-color: #ff1049; width: 60%;" Font-Size="Small" Text="Buscar" runat="server" AutoPostBack="False" OnClick="btnConsultar_Click">
                            </dx:ASPxButton>
                        </td>

                    </tr>
                </table>
            </dx:PanelContent>
        </PanelCollection>
    </dx:ASPxCallbackPanel>
    
    <hr style="background-color:red" />
    <table id="tb_BotonesCargar" runat="server">
        <tr>
            <td class="rounded d-inline-flex align-content-center">
                <dx:ASPxImage ID="ASPxImage1" runat="server" ShowLoadingImage="true" ImageUrl="images/02.png">
                </dx:ASPxImage>
            </td>
            <td class="d-inline-flex align-content-center">
                <dx:ASPxButton ID="btnSubeArchivo" ImagePosition="Left" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="background-color: #00489e; width: 100%;" Text="Cargar Archivos" Paddings-Padding="3px" runat="server" Visible="true" AutoPostBack="False" UseSubmitBehavior="false" >
                    <ClientSideEvents Click="LimpiarPopUp" />
                </dx:ASPxButton>
            </td>

        </tr>
        <tr>
            <td class="rounded d-inline-flex align-content-center">
                <dx:ASPxImage ID="ASPxImage2" runat="server" ShowLoadingImage="true" ImageUrl="images/16.png">
                </dx:ASPxImage>
            </td>
            <td class="d-inline-flex align-content-center">
                <dx:ASPxButton ID="btnDocumentos" ImagePosition="Left" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="background-color: #00489e; width: 100%;" Text="Descargar" Paddings-Padding="3px" runat="server" Visible="true" AutoPostBack="False" UseSubmitBehavior="false" >
                    <ClientSideEvents Click="AbrirPopUpDescarga" />
                </dx:ASPxButton>
            </td>
        </tr>
        <tr style="visibility:hidden">
            <td class="d-flex justify-content-end" style="padding: 5px 7px 5px 7px">
                <dx:ASPxButton ID="btnVerContrato" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="background-color: #ff1049; width: 100%;" Font-Size="Small" Text="Ver Contrato" runat="server" Visible="true" OnClick="btnVerContrato_Click" AutoPostBack="False" UseSubmitBehavior="false">
                    <Image ToolTip="Ver Contrato" Url="images/verArchivo.png">
                    </Image>
                    <ClientSideEvents Click="function (s, e) {e.processOnServer = true;}" />
                </dx:ASPxButton>
            </td>
        </tr>
    </table>
</asp:Content>
<asp:Content ID="Content3" ContentPlaceHolderID="ContenidoPagina" runat="server">

    <dx:ASPxSplitter
        
        ShowCollapseBackwardButton="true"
        Orientation="Vertical"
        ID="SpliterPadre"
        runat="server"
        Height="100%"
        >

        <Panes>
            
            <dx:SplitterPane MinSize="540" ScrollBars="Auto" Name="splitterSuperior" >
                <%--GRID SUPERIOR--%>
                <ContentCollection >
                    <dx:SplitterContentControl>
                        <div id="lblDefinicionAdministrador" runat="server" style="color: #00489e" visible="false">
                            <label>
                                <span>
                                    <img src="images/15.png" />
                                </span>: Activo
                                <span>
                                    <img src="images/12.png" />
                                </span>: Eliminado 
                                <span>
                                    <img src="images/14.png" />
                                </span>: Suspendido
                                <span>
                                    <img src="images/13.png" />
                                </span>: En Observación |
                                <span>
                                    <img src="images/04.png" />
                                </span>: Contrato de Colaborador |
                                <span>
                                    <img src="images/search.png" />
                                </span>: Detalles de Colaborador |
                            </label>
                        </div>
                        <div id="lblDefinicionCliente" runat="server" style="color: #00489e" visible="false">
                            <label>
                                <span>
                                    <img src="images/15.png" />
                                </span>: Activo |
                                <span>
                                    <img src="images/search.png" />
                                </span>: Detalles de Colaborador |
                            </label>
                        </div>
                        <div style="width:100%">
                            <dx:ASPxGridView
                                Width="100%"
                                ForeColor="#00489e"
                                ID="gridEmpleado"
                                ClientInstanceName="gridEmpleado"
                                runat="server"
                                EnableCallBacks="true"
                                KeyFieldName="rut"
                                Theme="Default"
                                AutoGenerateColumns="False"
                                OnBeforeGetCallbackResult="gridEmpleado_BeforeGetCallbackResult">

                            <%--EVENTO DE CAMBIO DE ROW SELECCIONADA--%>
                            <ClientSideEvents FocusedRowChanged="function(s, e) { OnGridFocusedRowChanged(); }"/>
                            <Settings
                                
                                ShowFilterRow="False"
                                ShowGroupPanel="true"
                                VerticalScrollBarMode="Hidden"
                                VerticalScrollableHeight="300"/>


                            <Styles>
                                
                                <FixedColumn ForeColor="#00489E" HorizontalAlign="Center"></FixedColumn>
                                <Header Wrap="True" HorizontalAlign="Center" Font-Bold="true" Font-Size="Small" BackColor="#F2F2F2" ForeColor="#00489e"></Header>
                                <Cell Font-Size="Small" HorizontalAlign="Left"></Cell>
                                <FocusedRow BackColor="#EAEAEA" ForeColor="#00489e" Font-Bold="true"></FocusedRow>
                                <RowHotTrack ForeColor="#00489e" BackColor="#EAEAEA"></RowHotTrack>
                            </Styles>
                            <SettingsPager PageSize="15">
                            </SettingsPager>

                            <SettingsBehavior
                                
                                EnableRowHotTrack="true"
                                AllowFocusedRow="True"
                                AllowSelectByRowClick="false"
                                
                                AllowSelectSingleRowOnly="true" />

                            <SettingsSearchPanel Visible="True" ColumnNames="rut; nombre" Delay="1500" ShowApplyButton="False" ShowClearButton="False" />
                            
                            <Columns>
                                <dx:GridViewDataTextColumn Width="10%" Caption="Rut" FieldName="rut" Name="rut" ShowInCustomizationForm="True" >
                                </dx:GridViewDataTextColumn>
                                <dx:GridViewDataTextColumn Width="30%" Caption="Nombre" FieldName="nombre" Name="nombre" ShowInCustomizationForm="True" >
                                </dx:GridViewDataTextColumn>
                                <dx:GridViewDataTextColumn CellStyle-HorizontalAlign="Center" Caption="ID" FieldName="idUnidad" Name="idUnidad" ShowInCustomizationForm="True" >
                                    <Settings AllowHeaderFilter="True" FilterMode="DisplayText" />
                                </dx:GridViewDataTextColumn>
                                <dx:GridViewDataTextColumn Width="25%"  Caption="Unidad" FieldName="descUnidad" Name="descUnidad" ShowInCustomizationForm="True">
                                    <Settings AllowHeaderFilter="True" FilterMode="DisplayText" />
                                </dx:GridViewDataTextColumn>
                                <dx:GridViewDataTextColumn  CellStyle-HorizontalAlign="Center" Caption="Estado" FieldName="estado" Name="estado" ShowInCustomizationForm="True"  >
                                    <Settings AllowHeaderFilter="True" FilterMode="DisplayText" AllowSort="False" AllowGroup="False" />
                                    <DataItemTemplate>
                                        <dx:ASPxImage ID="imgEstado_A" FieldName="imgEstado_A" Name="imgEstado_A" runat="server" OnLoad="imgEstado_A_Load" Visible="false"></dx:ASPxImage>
                                    </DataItemTemplate>
                                </dx:GridViewDataTextColumn>
                                <dx:GridViewDataTextColumn CellStyle-HorizontalAlign="Center" Caption="Contrato" FieldName="contrato" Visible="false" Name="contrato" ShowInCustomizationForm="True">
                                    <Settings/>
                                    <DataItemTemplate>
                                        <dx:ASPxButton ID="btnVerContratoGrid" EnableTheming="false" Font-Size="Small" runat="server" Visible="true" OnClick="btnVerContrato_Click" AutoPostBack="False" UseSubmitBehavior="false">
                                            <Image ToolTip="Ver Contrato" Url="images/04.png">
                                            </Image>
                                            <ClientSideEvents Click="function (s, e) {e.processOnServer = true;}" />
                                        </dx:ASPxButton>
                                    </DataItemTemplate>
                                </dx:GridViewDataTextColumn>
                                <dx:GridViewDataTextColumn  CellStyle-HorizontalAlign="Center" Caption="Detalle" FieldName="detalle" Name="detalle" ShowInCustomizationForm="True">
                                    <Settings/>
                                    <DataItemTemplate>
                                        <dx:ASPxButton ID="btnVerDetalle" EnableTheming="false" Font-Size="Small" runat="server" Visible="true" AutoPostBack="False" UseSubmitBehavior="false">
                                            <Image Url="images/search.png">
                                            </Image>
                                            <ClientSideEvents Click="function(s, e) { OnGridFocusedRowChanged(); }" />
                                        </dx:ASPxButton>
                                    </DataItemTemplate>
                                </dx:GridViewDataTextColumn>
                            </Columns>

                        </dx:ASPxGridView>
                        </div>
                        
                    </dx:SplitterContentControl>
                </ContentCollection>
            </dx:SplitterPane>

            <dx:SplitterPane Name="spliterInferior" AutoHeight="true" PaneStyle-BackColor="#f8f8f9">
                <ContentCollection>
                    <dx:SplitterContentControl BorderColor="Transparent">
                        <%--MENU Y PANEL INFERIOR--%>
                        <asp:Literal ID="Literal1" runat="server"></asp:Literal>
                        <div id="divPanelInferior" runat="server">
                            <table border="0" style="width:100%">
                            <tr>
                                <td>
                                 <div id="divlistBoxInferior" runat="server" style="border:none">
                                        <dx:ASPxListBox Visible="true" BorderLeft-BorderStyle="None" Font-Bold="false" Width="100%" runat="server" ID="listBoxInferior" ClientInstanceName="ListBox" Paddings-PaddingLeft="0px" CssClass="font-weight-bold" Height="220" ForeColor="#00489e" BackColor="Transparent" Border-BorderStyle="None">
                                            <ClientSideEvents SelectedIndexChanged="OnListBoxIndexChanged" />
                                            <ItemStyle
                                                Border-BorderStyle="None"
                                                Font-Size="Small"
                                                Paddings-PaddingBottom="0"
                                                Paddings-PaddingRight="10"
                                                Paddings-PaddingLeft="20"
                                                HoverStyle-BackColor="#d0d0d0" 
                                                HoverStyle-ForeColor="#00489e"
                                                SelectedStyle-Font-Bold="true"
                                                SelectedStyle-ForeColor="#00489e"
                                                SelectedStyle-Border-BorderStyle="None"
                                                SelectedStyle-BackColor="#d0d0d0"
                                                SelectedStyle-BackgroundImage-HorizontalPosition="left"
                                                SelectedStyle-BackgroundImage-ImageUrl="images/01.png"
                                                SelectedStyle-BackgroundImage-Repeat="NoRepeat"
                                                SelectedStyle-BackgroundImage-VerticalPosition="center" />
                                            
                                            <Items>
                                                <dx:ListEditItem Selected="true" Value="Liquidaciones" Text="LIQUIDACIONES" />
                                                <dx:ListEditItem Value="Pacto_HE" Text="PACTO HE" />
                                                <dx:ListEditItem Value="Estudios" Text="ESTUDIOS" />
                                                <dx:ListEditItem Value="Masso" Text="MASSO/PE/S&S" />
                                                <dx:ListEditItem Value="Contratos" Text="CONTRATOS Y ANEXOS" />
                                                <dx:ListEditItem Value="Curriculum" Text="CURRICULUM" />
                                                <dx:ListEditItem Value="Der_Saber" Text="ODI/DER. A SABER" />
                                                <dx:ListEditItem Value="EPP" Text="EPP" />
                                                <dx:ListEditItem Value="Reg_Interno" Text="REG. INTERNO" />
                                                <%--<dx:ListEditItem Value="Ev_Desempeño" Text="Ev. Desempeño" />--%>
                                                <dx:ListEditItem Value="Ex_Preoc" Text="EX. PREOCUPACIONAL" />
                                                <dx:ListEditItem Value="Ex_Psico" Text="EV. PSICOLÓGICA" />
                                                <%--<dx:ListEditItem Value="Finiquito" Text="Finiquito" />--%>
                                            </Items>
                                        </dx:ASPxListBox>
                                    </div>
                                </td>
                                <td style="width:80%">
                                    <div>
                                        <dx:ASPxCallbackPanel runat="server" ID="cbpInferior" ClientInstanceName="CallbackPanel" RenderMode="Div" OnCallback="cbpInferior_Callback">
                                            <ClientSideEvents EndCallback="OnEndCallback"></ClientSideEvents>
                                            <PanelCollection>
                                                <dx:PanelContent>
                                                    <dx:ASPxLoadingPanel runat="server" ID="lpCallBack" Text="Cargando..." ClientInstanceName="lpCallBack" Modal="true"  Theme="MetropolisBlue"></dx:ASPxLoadingPanel>
                                                    <div style="width: 100%" id="divGridInferior" runat="server">
                                                        <dx:ASPxGridView ID="GridInferior" Width="100%" ClientInstanceName="gSueldo" runat="server" KeyFieldName="id" AutoGenerateColumns="False" ForeColor="#00489e" OnPageIndexChanged="GridInferior_PageIndexChanged" OnBeforeGetCallbackResult="GridInferior_BeforeGetCallbackResult"
                                                            Theme="Default">
                                                            <SettingsBehavior AllowFocusedRow="true" AllowHeaderFilter="false" AllowSort="false" />
                                                            <SettingsPager PageSize="10" />
                                                            <Settings GridLines="Vertical" VerticalScrollBarMode="Visible" />
                                                            <Styles>
                                                                <Cell ForeColor="#00489e" HorizontalAlign="Center"></Cell>
                                                                <Header BackColor="#00489e" Font-Bold="true" ForeColor="White" HorizontalAlign="Center"></Header>
                                                                <FocusedRow BackColor="#EAEAEA" ForeColor="#00489e" Font-Bold="true"></FocusedRow>
                                                                <RowHotTrack ForeColor="#00489e" BackColor="#EAEAEA"></RowHotTrack>
                                                            </Styles>
                                                            <Columns>
                                                                <dx:GridViewDataHyperLinkColumn Caption="Documento" FieldName="ruta" Name="ruta" ShowInCustomizationForm="True" VisibleIndex="0">
                                                                    <HeaderStyle HorizontalAlign="Center" />
                                                                    <DataItemTemplate>
                                                                        <dx:ASPxHyperLink ID="ASPxHyperLink1" runat="server" Text="ASPxHyperLink" OnLoad="ASPxHyperLink1_Load"></dx:ASPxHyperLink>
                                                                    </DataItemTemplate>
                                                                    <CellStyle HorizontalAlign="Center">
                                                                    </CellStyle>
                                                                </dx:GridViewDataHyperLinkColumn>
                                                                <dx:GridViewDataTextColumn Width="35%" Caption="Descripcion" CellStyle-HorizontalAlign="Left" FieldName="descdocto" Name="descdocto" ShowInCustomizationForm="True" VisibleIndex="1">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataTextColumn Caption="Creación" FieldName="fechadcto" Name="fechadcto" ShowInCustomizationForm="True" VisibleIndex="2">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataTextColumn Caption="Id" FieldName="id" Name="id" ShowInCustomizationForm="True" VisibleIndex="3" Visible="false">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataColumn Caption="Eliminar" FieldName="eliminar" Visible="false" Name="eliminar" VisibleIndex="4">
                                                                    <Settings />
                                                                    <DataItemTemplate>
                                                                        <dx:ASPxButton ID="btnEliminarArchivo" EnableTheming="false" Font-Size="Small" runat="server" AutoPostBack="false" OnClick="btnEliminarArchivo_Click" UseSubmitBehavior="false">
                                                                            <Image ToolTip="Eliminar" Url="images/03.png">
                                                                            </Image>
                                                                            <ClientSideEvents Click="Mensaje" />
                                                                        </dx:ASPxButton>
                                                                    </DataItemTemplate>
                                                                </dx:GridViewDataColumn>
                                                                <dx:GridViewDataColumn Caption="Editar" FieldName="editar" Visible="false" Name="editar" VisibleIndex="5">
                                                                    <Settings />
                                                                    <DataItemTemplate>
                                                                        <dx:ASPxButton ID="btnEditarDocumento" EnableTheming="false" Font-Size="Small" runat="server" AutoPostBack="false" UseSubmitBehavior="false" OnClick="btnEditarDocumento_Click">
                                                                            <Image ToolTip="Editar" Url="images/39.png">
                                                                            </Image>
                                                                            <%--<ClientSideEvents Click="function(s,e){cbEditar.PerformCallback();}" />--%>
                                                                        </dx:ASPxButton>
                                                                    </DataItemTemplate>
                                                                </dx:GridViewDataColumn>
                                                            </Columns>

                                                        </dx:ASPxGridView>

                                                        <dx:ASPxGridView ID="GridInferiorVencimiento" Width="100%" ClientInstanceName="gSueldo" runat="server" KeyFieldName="id" AutoGenerateColumns="False" ForeColor="#00489e" Theme="Default" OnPageIndexChanged="GridInferior_PageIndexChanged" OnBeforeGetCallbackResult="GridInferior_BeforeGetCallbackResult" >
                                                            <SettingsBehavior AllowFocusedRow="true" AllowHeaderFilter="false" AllowSort="false" />
                                                            <Settings GridLines="Vertical" VerticalScrollBarMode="Visible" />
                                                            <SettingsPager PageSize="10"  />
                                                            <Styles>
                                                                <Cell ForeColor="#00489e" HorizontalAlign="Center"></Cell>
                                                                <Header BackColor="#00489e" Font-Bold="true" ForeColor="White" HorizontalAlign="Center"></Header>
                                                                <FocusedRow BackColor="#EAEAEA" ForeColor="#00489e" Font-Bold="true"></FocusedRow>
                                                                <RowHotTrack ForeColor="#00489e" BackColor="#EAEAEA"></RowHotTrack>
                                                            </Styles>
                                                            <Columns>
                                                                <dx:GridViewDataHyperLinkColumn Caption="Documento" FieldName="ruta" Name="ruta" ShowInCustomizationForm="True" VisibleIndex="0">
                                                                    <HeaderStyle HorizontalAlign="Center" />
                                                                    <DataItemTemplate>
                                                                        <dx:ASPxHyperLink ID="ASPxHyperLink1" runat="server" Text="ASPxHyperLink" OnLoad="ASPxHyperLink1_Load"></dx:ASPxHyperLink>
                                                                    </DataItemTemplate>
                                                                    <CellStyle HorizontalAlign="Center">
                                                                    </CellStyle>
                                                                </dx:GridViewDataHyperLinkColumn>
                                                                <dx:GridViewDataTextColumn Width="35%" Caption="Descripcion" CellStyle-HorizontalAlign="Left" FieldName="descdocto" Name="descdocto" ShowInCustomizationForm="True">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataTextColumn Caption="Creación" FieldName="fechadcto" Name="fechadcto" ShowInCustomizationForm="True">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataTextColumn Caption="Vencimiento" FieldName="vence" Name="vence" ShowInCustomizationForm="True">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataTextColumn Caption="Id" FieldName="id" Name="id" ShowInCustomizationForm="True" Visible="false">
                                                                </dx:GridViewDataTextColumn>
                                                                <dx:GridViewDataColumn Caption="Eliminar" FieldName="eliminar" Name="eliminar" Visible="false">
                                                                    <Settings />
                                                                    <DataItemTemplate>
                                                                        <dx:ASPxButton ID="btnEliminarArchivo" EnableTheming="false" Font-Size="Small" runat="server" AutoPostBack="false" OnClick="btnEliminarArchivo_Click" UseSubmitBehavior="false" VisibleIndex="6">
                                                                            <Image ToolTip="Eliminar" Url="images/03.png">
                                                                            </Image>
                                                                            <ClientSideEvents Click="Mensaje" />
                                                                        </dx:ASPxButton>
                                                                    </DataItemTemplate>
                                                                </dx:GridViewDataColumn>
                                                                <dx:GridViewDataColumn Caption="Editar" FieldName="editar" Name="editar">
                                                                    <Settings />
                                                                    <DataItemTemplate>
                                                                        <dx:ASPxButton ID="btnEditarDocumento" EnableTheming="false" Font-Size="Small" runat="server" AutoPostBack="false" UseSubmitBehavior="false" OnClick="btnEditarDocumento_Click">
                                                                            <Image ToolTip="Editar" Url="images/39.png">
                                                                            </Image>
                                                                            <%--<ClientSideEvents Click="function(s,e){cbEditar.PerformCallback();}" />--%>
                                                                        </dx:ASPxButton>
                                                                    </DataItemTemplate>
                                                                </dx:GridViewDataColumn>

                                                            </Columns>

                                                        </dx:ASPxGridView>
                                                    </div>
                                                </dx:PanelContent>
                                            </PanelCollection>

                                        </dx:ASPxCallbackPanel>
                                    </div>
                                    
                                </td>
                            </tr>
                        </table>
                        </div>
                        
                        
                        <%--GRID INFERIOR--%>
                        
                        

                    </dx:SplitterContentControl>
                        
                </ContentCollection>
            </dx:SplitterPane>
        </Panes>

    </dx:ASPxSplitter>

    <!-- POPUP CARGA ARCHIVOS-->
    <table>
        <tr>
            <td>
                <dx:ASPxHiddenField runat="server" ID="HiddenField" ClientInstanceName="HiddenField"></dx:ASPxHiddenField>
                <dx:ASPxCallbackPanel runat="server" ID="cbpEditar" ClientInstanceName="cbpEditar" OnCallback="cbpEditar_Callback">
                    <ClientSideEvents EndCallback="function(s,e) {popupCargaArchivo.Show(); lpCallBack.Hide();}" />
                    <PanelCollection>
                        <dx:PanelContent>
                            <dx:ASPxPopupControl ID="popupCargaArchivo" runat="server" CloseAction="CloseButton" ClientInstanceName="popupCargaArchivo" EnableViewState="False"
                                Modal="True" Width="600px" HeaderText="Carga Archivos" PopupHorizontalAlign="WindowCenter" PopupVerticalAlign="WindowCenter" Theme="Metropolis" ShowPageScrollbarWhenModal="True">
                                <HeaderStyle Font-Names="verdana" BackColor="#00489e" HorizontalAlign="Center" Font-Bold="true" ForeColor="White" />
                                <ContentCollection>
                                    <dx:PopupControlContentControl runat="server">
                                        <dx:ASPxPanel ID="PanelCargaArchivo" runat="server">
                                            <PanelCollection>
                                                <dx:PanelContent runat="server">
                                                    <table>
                                                        <tr>
                                                            <td rowspan="8">
                                                                <div class="pcmSideSpacer">
                                                                </div>
                                                            </td>

                                                            <!-- NOMBRE EMPLEADO -->
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="lblEmpleado" runat="server" Text="Empleado">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText">
                                                                <dx:ASPxTextBox ForeColor="#00489e" Font-Names="verdana" ID="txtIdEmpleado" Font-Bold="False" runat="server" Width="100px" ClientInstanceName="txtIdEmpleado" ReadOnly="true">
                                                                    <Border BorderStyle="None" />
                                                                </dx:ASPxTextBox>
                                                                <dx:ASPxTextBox ForeColor="#00489e" Font-Names="verdana" ID="txtEmpleado" Font-Bold="False" runat="server" Width="350px" ClientInstanceName="txtEmpleado" ReadOnly="true">
                                                                    <Border BorderStyle="None" />
                                                                </dx:ASPxTextBox>
                                                            </td>
                                                            <td rowspan="8" style="width: 10px">
                                                                <div class="pcmSideSpacer ">
                                                                </div>
                                                            </td>
                                                        </tr>

                                                        <!-- COMBOBOX TIPO DOCUMENTO-->
                                                        <tr>
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel2" runat="server" Text="Tipo Docto">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText">
                                                                <dx:ASPxComboBox ForeColor="#00489e" Font-Names="verdana" CssClass="rounded" Theme="MetropolisBlue" ID="txtTipoDocto" runat="server" Width="350px" ValueType="System.String" ClientInstanceName="txtTipoDocto">
                                                                    <ClientSideEvents SelectedIndexChanged="valorTIpoDcto" />
                                                                    <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                                                    <ValidationSettings EnableCustomValidation="true" ValidationGroup="entryGroup" SetFocusOnError="true" ErrorDisplayMode="Text"
                                                                        ErrorTextPosition="Bottom" CausesValidation="true">
                                                                        <RequiredField ErrorText="Debe Seleccionar Tipo Documento" IsRequired="true" />
                                                                        <RegularExpression ErrorText="Faltan Datos" />
                                                                        <ErrorFrameStyle ForeColor="Red" Font-Size="10px">
                                                                            <ErrorTextPaddings PaddingLeft="0px" />
                                                                        </ErrorFrameStyle>

                                                                    </ValidationSettings>
                                                                </dx:ASPxComboBox>
                                                            </td>

                                                        </tr>

                                                        <!-- FECHA DOCUMENTO -->
                                                        <tr>
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel17" runat="server" Text="Fecha Docto">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText">
                                                                <dx:ASPxDateEdit ForeColor="#00489e" Font-Names="verdana" CssClass="rounded" Theme="MetropolisBlue" Width="350px" ID="txtFechaDocto" ClientInstanceName="txtFechaDocto" runat="server" EditFormat="Custom" EditFormatString="dd-MM-yyyy" MinDate="2016-05-01">
                                                                    <ClearButton DisplayMode="Always"></ClearButton>

                                                                    <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                                                </dx:ASPxDateEdit>
                                                            </td>

                                                        </tr>


                                                        <!-- FECHA VENCIMIENTO DOCUMENTO -->
                                                        <tr id="tr_vencimiento" runat="server">
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel3" ClientInstanceName="lblVenveDcto" runat="server" Text="Vencimiento Docto">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText">
                                                                <dx:ASPxDateEdit ForeColor="#00489e" Font-Names="verdana" CssClass="rounded" Width="350px" Theme="MetropolisBlue" ID="txtVenceDocto" ClientInstanceName="txtVenceDocto" runat="server" EditFormat="Custom" EditFormatString="dd-MM-yyyy" MinDate="2016-05-01">
                                                                    <ClearButton DisplayMode="Always"></ClearButton>
                                                                    <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                                                </dx:ASPxDateEdit>
                                                            </td>

                                                        </tr>

                                                        <!-- COMBOBOX DESCRIPCION-->
                                                        <tr>
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel1" ClientInstanceName="ASPxLabel1" runat="server" Text="Descripción">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText ">
                                                                <dx:ASPxComboBox ForeColor="#00489e" Font-Names="verdana" CssClass="rounded" Theme="MetropolisBlue" ID="cbxDescripcion" runat="server" NullText="Ingrese descripción del Archivo" Width="350px" ClientInstanceName="cbxDescripcion">
                                                                <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                                                    
                                                                </dx:ASPxComboBox>
                                                                <%--<dx:ASPxTextBox ForeColor="#00489e" Font-Names="verdana" CssClass="rounded" Theme="MetropolisBlue" ID="txtDescripcion" runat="server" NullText="Ingrese descripción del Archivo" Width="350px" ClientInstanceName="txtDescripcion">
                                                                </dx:ASPxTextBox>--%>
                                                            </td>

                                                        </tr>

                                                        <!-- CHECKBOX SI ES DOCUMENTO VIGENTE -->
                                                        <%--<tr>
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel18" runat="server" Text="Docto Vigente">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCheckBox">
                                                                <dx:ASPxCheckBox ForeColor="#00489e" Font-Names="verdana" ID="cbVigente" runat="server" CheckState="Unchecked" ClientInstanceName="cbVigente">
                                                                </dx:ASPxCheckBox>
                                                            </td>
                                                        </tr>--%>
                                                        <tr>
                                                            <!-- CARGA DE ARCHIVO -->
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel4" runat="server" Text="Archivo">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td>
                                                                <dx:ASPxUploadControl ForeColor="#00489e" Font-Names="verdana" Theme="MetropolisBlue" EnableTheming="True" CssClass="rounded txtbox text-white font-weight-bold" ID="UploadControl" runat="server" ClientInstanceName="UploadControl" Width="350"
                                                                    NullText="Selecciona Archivo" FileUploadMode="OnPageLoad" UploadMode="Advanced" ShowProgressPanel="True" AutoStartUpload="true"
                                                                    OnFileUploadComplete="UploadControl_FileUploadComplete">
                                                                    <BrowseButtonStyle BackColor="#ff1049" ForeColor="White" CssClass="rounded txtbox text-white font-weight-bold">
                                                                    </BrowseButtonStyle>
                                                                    <Paddings PaddingLeft="10" />
                                                                    <AdvancedModeSettings EnableMultiSelect="false" EnableFileList="True" EnableDragAndDrop="True" />
                                                                    <ValidationSettings MaxFileSize="8000000" AllowedFileExtensions=".jpg, .png, .pdf">
                                                                    </ValidationSettings>
                                                                    <ClientSideEvents FileUploadComplete="function (s, e) {
                                                        var text = s.GetText(e.inputIndex).replace(/\s|C:\\fakepath\\/g, '');
                                                        txtArchivoCargado.SetText('¡ARCHIVO ' + text + ' CARGADO!'); }" />
                                                                </dx:ASPxUploadControl>
                                                            </td>
                                                        </tr>
                                                        <%--HYPERLINK PARA VER EL ARCHIVO--%>
                                                        <tr>
                                                            <td><dx:ASPxHyperLink runat="server" ID="hlVerArchivo" Text=""></dx:ASPxHyperLink></td>
                                                            <td colspan="2">
                                                                <dx:ASPxTextBox ForeColor="#00489e" Font-Bold="true" ID="txtArchivoCargado" ReadOnly="true" runat="server" Width="350px" ClientInstanceName="txtArchivoCargado" Text="Falta Cargar Archivo">
                                                                    <Border BorderStyle="None" />
                                                                </dx:ASPxTextBox>
                                                            </td>
                                                        </tr>


                                                        <!-- BOTONES -->
                                                        <tr>
                                                            <td style="width: 10px">
                                                                <div class="pcmSideSpacer ">
                                                                </div>
                                                            </td>
                                                            <td colspan="3">
                                                                <div class="pcmButton d-flex justify-content-center">
                                                                    <dx:ASPxButton Font-Names="verdana" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="float: left; margin-right: 15px; background-color: #ff1049;" Width="80px" Height="30px" ID="btnGrabarArchivo" runat="server" Text="Guardar" OnClick="btnGrabarArchivo_Click" AutoPostBack="false" UseSubmitBehavior="false">
                                                                        <ClientSideEvents Click="OnClickConsultaEmpresa" />
                                                                    </dx:ASPxButton>

                                                                    <dx:ASPxButton Font-Names="verdana" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="float: left; margin-right: 8px; background-color: #ff1049;" Width="80px" Height="30px" ID="btnCerrar" runat="server" Text="Cerrar" AutoPostBack="false" UseSubmitBehavior="false">
                                                                        <ClientSideEvents Click="function(s, e) { popupCargaArchivo.Hide();}" />
                                                                    </dx:ASPxButton>
                                                                </div>
                                                            </td>

                                                        </tr>

                                                    </table>


                                                </dx:PanelContent>


                                            </PanelCollection>
                                        </dx:ASPxPanel>
                                    </dx:PopupControlContentControl>

                                </ContentCollection>
                            </dx:ASPxPopupControl>
                        </dx:PanelContent>
                    </PanelCollection>
                </dx:ASPxCallbackPanel>
                

            </td>

        </tr>
    </table>

    <!-- POPUP CARGA ARCHIVOS-->
    <table>
        <tr>
            <td>
                <dx:ASPxHiddenField runat="server" ID="ASPxHiddenField1" ClientInstanceName="HiddenField"></dx:ASPxHiddenField>
                <dx:ASPxCallbackPanel runat="server" ID="cbpDescargarArchivos" ClientInstanceName="cbpDescargarArchivos" OnCallback="cbpDescargarArchivos_Callback">
                    <ClientSideEvents EndCallback="function(s,e) {popUpDescargarArchivos.Show(); lpCallBack.Hide();}" />
                    <PanelCollection>
                        <dx:PanelContent>
                            <dx:ASPxPopupControl ID="popUpDescargarArchivos" runat="server" CloseAction="CloseButton" ClientInstanceName="popUpDescargarArchivos" EnableViewState="False"
                                Modal="True" Width="600px" HeaderText="Descarga de Documentos" PopupHorizontalAlign="WindowCenter" PopupVerticalAlign="WindowCenter" Theme="Metropolis" ShowPageScrollbarWhenModal="True">
                                <HeaderStyle Font-Names="verdana" BackColor="#00489e" HorizontalAlign="Center" Font-Bold="true" ForeColor="White" />
                                <ContentCollection>
                                    <dx:PopupControlContentControl runat="server">
                                        <dx:ASPxPanel ID="ASPxPanel1" runat="server">
                                            <PanelCollection>
                                                <dx:PanelContent runat="server">
                                                    <table>
                                                        <tr>
                                                            <td rowspan="8">
                                                                <div class="pcmSideSpacer">
                                                                </div>
                                                            </td>

                                                            <!-- NOMBRE EMPLEADO -->
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel5" runat="server" Text="Empleado">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText">
                                                                <dx:ASPxTextBox ForeColor="#00489e" Font-Names="verdana" ID="txtIdEmpleadoDescargarDocumento" Font-Bold="False" runat="server" Width="100px" ClientInstanceName="txtIdEmpleadoDescargarDocumento" ReadOnly="true">
                                                                    <Border BorderStyle="None" />
                                                                </dx:ASPxTextBox>
                                                                <dx:ASPxTextBox ForeColor="#00489e" Font-Names="verdana" ID="txtEmpleadoDescargarDocumento" Font-Bold="False" runat="server" Width="350px" ClientInstanceName="txtEmpleadoDescargarDocumento" ReadOnly="true">
                                                                    <Border BorderStyle="None" />
                                                                </dx:ASPxTextBox>
                                                            </td>
                                                            <td rowspan="8" style="width: 10px">
                                                                <div class="pcmSideSpacer ">
                                                                </div>
                                                            </td>
                                                        </tr>

                                                        <!-- COMBOBOX TIPO DOCUMENTO-->
                                                        <tr>
                                                            <td class="pcmCellCaption">
                                                                <dx:ASPxLabel CssClass="font-weight-bold" ForeColor="#00489e" Font-Names="verdana" ID="ASPxLabel6" runat="server" Text="Tipo Docto">
                                                                </dx:ASPxLabel>
                                                            </td>
                                                            <td class="pcmCellCaption">:</td>
                                                            <td class="pcmCellText">
                                                                <dx:ASPxComboBox ForeColor="#00489e" Font-Names="verdana" CssClass="rounded" Theme="MetropolisBlue" ID="cbxDescargarDocumento" runat="server" Width="350px" ValueType="System.String" ClientInstanceName="cbxDescargarDocumento">
                                                                    <ClientSideEvents SelectedIndexChanged="valorTIpoDcto" />
                                                                    <DropDownButton Image-Url="images/arrow-point-to-down.png"></DropDownButton>
                                                                </dx:ASPxComboBox>
                                                            </td>

                                                        </tr>

                                                        <!-- BOTONES -->
                                                        <tr>
                                                            <td style="width: 10px">
                                                                <div class="pcmSideSpacer ">
                                                                </div>
                                                            </td>
                                                            <td colspan="3">
                                                                <div class="pcmButton d-flex justify-content-center">
                                                                    <dx:ASPxButton Font-Names="verdana" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="float: left; margin-right: 15px; background-color: #ff1049;" Width="80px" Height="30px" ID="btnDescargar" runat="server" Text="Descargar" OnClick="btnDescargar_Click" AutoPostBack="false" UseSubmitBehavior="false">
                                                                    </dx:ASPxButton>

                                                                    <dx:ASPxButton Font-Names="verdana" EnableTheming="false" CssClass="rounded txtbox text-white font-weight-bold" Style="float: left; margin-right: 8px; background-color: #ff1049;" Width="80px" Height="30px" ID="ASPxButton2" runat="server" Text="Cerrar" AutoPostBack="false" UseSubmitBehavior="false">
                                                                        <ClientSideEvents Click="function(s, e) { popUpDescargarArchivos.Hide();}" />
                                                                    </dx:ASPxButton>
                                                                </div>
                                                            </td>

                                                        </tr>

                                                    </table>


                                                </dx:PanelContent>


                                            </PanelCollection>
                                        </dx:ASPxPanel>
                                    </dx:PopupControlContentControl>

                                </ContentCollection>
                            </dx:ASPxPopupControl>
                        </dx:PanelContent>
                    </PanelCollection>
                </dx:ASPxCallbackPanel>
                

            </td>

        </tr>
    </table>

    <style type="text/css">
        .uploadContainer {
            float: left;
            margin-right: 80px;
        }

        .contentFooter {
            clear: both;
            padding-top: 20px;
        }

    </style>

</asp:Content>
